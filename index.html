<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swasthya - Online Medical Consultations & Second Opinions</title>
    <meta name="description" content="Get expert medical advice from certified doctors online. Book consultations and second opinions with top specialists.">
    <meta name="keywords" content="online doctor, medical consultation, second opinion, telehealth, healthcare">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Flatpickr for DateTime Picker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.js"></script>
</head>
<body class="font-sans">
    <!-- Header -->
    <header class="fixed w-full bg-white shadow-md z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="w-48 h-12 inline-block">
                <!-- Logo SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 80" class="w-full h-full">
                    <!-- Background medical symbol -->
                    <g transform="translate(10, 15)">
                        <!-- Lotus/Medical Cross Hybrid Symbol -->
                        <path d="M40 25 C40 15, 30 10, 20 15 C10 20, 10 30, 20 35 C30 40, 40 35, 40 25" 
                            fill="#4299e1" opacity="0.9">
                            <animate attributeName="opacity" values="0.7;0.9;0.7" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <path d="M40 25 C40 35, 50 40, 60 35 C70 30, 70 20, 60 15 C50 10, 40 15, 40 25" 
                            fill="#3182ce" opacity="0.8">
                            <animate attributeName="opacity" values="0.6;0.8;0.6" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <path d="M40 25 C40 15, 50 10, 60 15 C70 20, 70 30, 60 35 C50 40, 40 35, 40 25" 
                            fill="#2b6cb0" opacity="0.7">
                            <animate attributeName="opacity" values="0.5;0.7;0.5" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <path d="M40 25 C40 35, 30 40, 20 35 C10 30, 10 20, 20 15 C30 10, 40 15, 40 25" 
                            fill="#2c5282" opacity="0.6">
                            <animate attributeName="opacity" values="0.4;0.6;0.4" dur="3s" repeatCount="indefinite"/>
                        </path>
                        
                        <!-- Central Circle -->
                        <circle cx="40" cy="25" r="8" fill="#fff"/>
                        <circle cx="40" cy="25" r="6" fill="#4299e1"/>
                    </g>
                    
                    <!-- Company Name -->
                    <text x="85" y="45" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#2b6cb0">
                        Swasthya
                    </text>
                    
                    <!-- Tagline -->
                    <text x="87" y="65" font-family="Arial, sans-serif" font-size="14" fill="#4a5568">
                        Your Health, Our Priority
                    </text>
                </svg>
            </a>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex space-x-8">
                <a href="#home" class="hover:text-blue-600">Home</a>
                <a href="#about" class="hover:text-blue-600">About Us</a>
                <a href="#services" class="hover:text-blue-600">Services</a>
                <a href="#doctors" class="hover:text-blue-600">Doctors</a>
                <a href="#reviews" class="hover:text-blue-600">Reviews</a>
                <a href="#contact" class="hover:text-blue-600">Contact</a>
                <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                    Schedule Consultation
                </button>
            </div>

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </nav>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white w-full px-6 pb-6 shadow-lg">
            <a href="#home" class="block py-2 hover:text-blue-600">Home</a>
            <a href="#about" class="block py-2 hover:text-blue-600">About Us</a>
            <a href="#services" class="block py-2 hover:text-blue-600">Services</a>
            <a href="#doctors" class="block py-2 hover:text-blue-600">Doctors</a>
            <a href="#reviews" class="block py-2 hover:text-blue-600">Reviews</a>
            <a href="#contact" class="block py-2 hover:text-blue-600">Contact</a>
            <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full mt-4">
                Schedule Consultation
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="pt-24 pb-12 bg-gradient-to-r from-blue-50 to-cyan-50">
        <div class="container mx-auto px-6 flex flex-col md:flex-row items-center">
            <div class="md:w-1/2">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">Get Expert Medical Advice Online</h1>
                <p class="text-lg mb-8">Consult with our specialists and get trusted second opinions from top doctors.</p>
                <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-8 py-3 rounded-lg text-lg hover:bg-blue-700">
                    Book Consultation
                </button>
            </div>
            <div class="md:w-1/2 mt-12 md:mt-0">
                <img src="./sample_doctor4.jpg" alt="Online Doctor Consultation" class="rounded-lg shadow-xl">
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">About Us</h2>
            <div class="max-w-3xl mx-auto text-center">
                <p class="text-lg mb-6">
                    Swasthya is committed to providing accessible, reliable, and expert medical consultations online. 
                    Our platform connects you with certified doctors for immediate consultations and trusted second opinions.
                </p>
                <p class="text-lg">
                    We believe in affordable, hassle-free healthcare, accessible anytime, anywhere.
                </p>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Our Services</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Service Cards -->
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-video text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Online Consultation</h3>
                    <p>Instant access to doctors for general health concerns</p>
                </div>
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-user-md text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Second Opinion</h3>
                    <p>Get expert second opinions from specialists</p>
                </div>
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-hospital-user text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Specialist Care</h3>
                    <p>Consult with specialists in various medical fields</p>
                </div>
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-heartbeat text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Emergency Support</h3>
                    <p>24/7 access to medical professionals</p>
                </div>
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-brain text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Mental Health</h3>
                    <p>Professional counseling and psychiatric support</p>
                </div>
                <div class="p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition">
                    <i class="fas fa-heart text-blue-600 text-4xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">Preventive Care</h3>
                    <p>Regular check-ups and health monitoring</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Doctors Section -->
    <section id="doctors" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Our Doctors</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Doctor Cards -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="./sammple_doc.jpg" alt="Dr. Nandan Vadlamudi" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold">Dr. Nandan Vadlamudi</h3>
                        <p class="text-gray-600 mb-2">Cardiologist</p>
                        <p class="text-sm mb-2">10+ years experience</p>
                        <p class="text-sm mb-4">Available: Mon-Fri, 9AM-5PM</p>
                        <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg w-full hover:bg-blue-700">
                            Book Appointment
                        </button>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="./sample_doc2.jpg" alt="Dr. Rajesh Menon" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold">Dr. Rajesh Menon</h3>
                        <p class="text-gray-600 mb-2">Orthopedic Specialist</p>
                        <p class="text-sm mb-2">8+ years experience</p>
                        <p class="text-sm mb-4">Available: Mon-Sat, 10AM-6PM</p>
                        <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg w-full hover:bg-blue-700">
                            Book Appointment
                        </button>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="./sample_doc3.jpg" alt="Dr. Priya Kapoor" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold">Dr. Priya Kapoor</h3>
                        <p class="text-gray-600 mb-2">Pediatrician</p>
                        <p class="text-sm mb-2">12+ years experience</p>
                        <p class="text-sm mb-4">Available: Tue-Sat, 9AM-4PM</p>
                        <button onclick="showConsultationForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg w-full hover:bg-blue-700">
                            Book Appointment
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Patient Reviews</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Review Cards -->
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex text-yellow-400 mb-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="mb-4">"Excellent service! Got a second opinion that really helped with my treatment decision."</p>
                    <p class="font-bold">- Rahul M.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex text-yellow-400 mb-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="mb-4">"Very convenient and professional service. The doctors are knowledgeable and caring."</p>
                    <p class="font-bold">- Priya S.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex text-yellow-400 mb-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <p class="mb-4">"Quick and efficient consultation process. Saved me a trip to the hospital."</p>
                    <p class="font-bold">- Amit K.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Contact Us</h2>
            <div class="grid md:grid-cols-2 gap-12">
                <!-- Contact Information -->
                <div>
                    <h3 class="text-xl font-bold mb-6">Get in Touch</h3>
                    <div class="space-y-4">
                        <p class="flex items-center">
                            <i class="fas fa-envelope mr-3 text-blue-600 w-5"></i>
                            <span>support@swasthya.com</span>
                        </p>
                        <p class="flex items-center">
                            <i class="fas fa-phone mr-3 text-blue-600 w-5"></i>
                            <span>+91 1234567890</span>
                        </p>
                        <p class="flex items-start">
                            <i class="fas fa-map-marker-alt mr-3 text-blue-600 w-5 mt-1"></i>
                            <span>123 Healthcare Avenue,<br>Mumbai, India</span>
                        </p>
                    </div>
                    
                    <!-- Social Links -->
                    <div class="mt-8">
                        <h4 class="text-lg font-semibold mb-4">Follow Us</h4>
                        <div class="flex space-x-4">
                            <a href="#" class="text-blue-600 hover:text-blue-700 transition-colors">
                                <i class="fab fa-linkedin fa-lg"></i>
                            </a>
                            <a href="#" class="text-blue-600 hover:text-blue-700 transition-colors">
                                <i class="fab fa-facebook fa-lg"></i>
                            </a>
                            <a href="#" class="text-blue-600 hover:text-blue-700 transition-colors">
                                <i class="fab fa-twitter fa-lg"></i>
                            </a>
                            <a href="#" class="text-blue-600 hover:text-blue-700 transition-colors">
                                <i class="fab fa-instagram fa-lg"></i>
                            </a>
                        </div>
                    </div>
                </div>
    
                <!-- Contact Form -->
                <div>
                    <form id="contact-form" class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                <input type="text" name="name" required
                                    class="w-full px-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" name="email" required
                                    class="w-full px-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
    
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                            <input type="text" name="subject" required
                                class="w-full px-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
    
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                            <textarea name="message" rows="4" required
                                class="w-full px-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="How can we help you?"></textarea>
                        </div>
    
                        <button type="submit"
                            class="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                            Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h4 class="text-xl font-bold mb-4">Swasthya</h4>
                    <p class="text-gray-400">Your trusted online healthcare partner</p>
                </div>
                <div>
                    <h4 class="text-xl font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#about" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white">Services</a></li>
                        <li><a href="#doctors" class="text-gray-400 hover:text-white">Doctors</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-xl font-bold mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of Service</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Cookie Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-xl font-bold mb-4">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Swasthya. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Consultation Modal -->
<div id="consultation-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg w-full max-w-md mx-auto">
        <!-- Modal Header -->
        <div class="flex justify-between items-center px-6 py-4 border-b border-gray-200">
            <h3 class="text-xl font-semibold text-gray-900">Schedule Consultation</h3>
            <button onclick="hideConsultationForm()" class="text-gray-400 hover:text-gray-500">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Modal Body -->
        <div class="px-6 py-4">
            <form id="consultation-form" class="space-y-4">
                <!-- Personal Details -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" name="Full_Name" required
                            class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
                        <input type="tel" name="Mobile_Number" required
                            class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                </div>

                <!-- Email -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" name="Email" required
                        class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>

                <!-- Doctor Selection -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Choose Doctor/Specialization</label>
                    <select name="Selected_Doctor" required
                        class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white">
                        <option value="">Select a doctor</option>
                        <option value="Dr. Ananya Sharma">Dr. Ananya Sharma - Cardiologist</option>
                        <option value="Dr. Rajesh Menon">Dr. Rajesh Menon - Orthopedic Specialist</option>
                        <option value="Dr. Priya Kapoor">Dr. Priya Kapoor - Pediatrician</option>
                    </select>
                </div>

                <!-- Date and Time -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Date</label>
                        <input type="text" name="Preferred_Date" id="consultation-date" required
                            class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white"
                            placeholder="Select date">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Time</label>
                        <input type="text" name="Preferred_Time" id="consultation-time" required
                            class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white"
                            placeholder="Select time">
                    </div>
                </div>

                <!-- Reason for Consultation -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Reason for Consultation</label>
                    <textarea name="Consultation_Reason" rows="2" required
                        class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"></textarea>
                </div>

                <!-- File Upload -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Upload Medical Reports (if any)</label>
                    <input type="file" name="attachments" multiple accept=".pdf,.jpg,.jpeg,.png"
                        class="w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">
                    <p class="mt-1 text-xs text-gray-500">Maximum 5 files (PDF, JPG, PNG), 5MB each</p>
                    <div id="selectedFiles" class="mt-2 space-y-1"></div>
                </div>

                <!-- Submit Button -->
                <button type="submit" 
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors text-sm font-medium">
                    Submit Request
                </button>
            </form>
        </div>
    </div>
</div>

     <!-- Success Modal -->
<div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
    <div class="bg-white rounded-xl max-w-md w-full p-6">
        <div class="text-center py-6">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-check text-3xl text-green-500"></i>
            </div>
            <h4 class="text-xl font-semibold text-gray-900 mb-2">
                Thank You!
            </h4>
            <p class="text-gray-600 mb-6">
                Your consultation request has been submitted successfully. We'll contact you shortly.
            </p>
            <button onclick="hideSuccessModal()" 
                class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                Close
            </button>
        </div>
    </div>
</div>

    <script>
        document.getElementById('contact-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const submitButton = this.querySelector('button[type="submit"]');
    const formData = new FormData(this);
    
    try {
        submitButton.disabled = true;
        submitButton.innerHTML = 'Sending...';
        
        // Send the request to your backend
        const response = await fetch('http://localhost:3000/api/contact', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(Object.fromEntries(formData))
        });

        if (!response.ok) {
            throw new Error('Failed to send message');
        }

        alert('Message sent successfully!');
        this.reset();
    } catch (error) {
        alert('Error sending message: ' + error.message);
    } finally {
        submitButton.disabled = false;
        submitButton.innerHTML = 'Send Message';
    }
});
        // Modal Toggle Functions
        function showConsultationForm() {
    const modal = document.getElementById('consultation-modal');
    modal.classList.remove('hidden');
    modal.classList.add('flex');
    document.body.style.overflow = 'hidden';
}

function hideConsultationForm() {
    const modal = document.getElementById('consultation-modal');
    modal.classList.add('hidden');
    modal.classList.remove('flex');
    document.body.style.overflow = 'auto';
}

document.getElementById('consultation-modal').addEventListener('click', function(e) {
    if (e.target === this) {
        hideConsultationForm();
    }
});

        // Initialize Flatpickr for Date and Time
        document.addEventListener('DOMContentLoaded', function() {
            // Date Picker
            flatpickr("#appointment-date", {
                minDate: "today",
                dateFormat: "Y-m-d",
                disable: [
                    function(date) {
                        // Disable Sundays
                        return date.getDay() === 0;
                    }
                ]
            });

            // Time Picker
            flatpickr("#appointment-time", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "H:i",
                minTime: "09:00",
                maxTime: "18:00",
                minuteIncrement: 30
            });
        });

        // Form Submission
        document.addEventListener('DOMContentLoaded', function() {
    const forms = document.querySelectorAll('#consultation-form');
    
    forms.forEach(form => {
        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitButton = this.querySelector('button[type="submit"]');
            
            try {
                submitButton.disabled = true;
                submitButton.innerHTML = 'Submitting...';
                
                // Create FormData object
                const formData = new FormData(this);
                
                // Handle multiple file attachments
                const fileInput = this.querySelector('input[type="file"]');
                if (fileInput && fileInput.files.length > 0) {
                    // Remove any existing attachments
                    formData.delete('attachments[]');
                    formData.delete('attachments');
                    
                    // Add each file individually
                    Array.from(fileInput.files).forEach((file) => {
                        formData.append('attachments', file);
                    });
                }
                
                // Send the request
                const response = await fetch('http://localhost:3000/api/submit-consultation', {
                    method: 'POST',
                    body: formData,
                    // Remove credentials include as it's not needed if we're not using cookies
                    headers: {
                        // Don't set Content-Type header - let the browser set it with the boundary
                        'Accept': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();

                if (data.success) {
                    hideConsultationForm();
                    showSuccessModal();
                    this.reset();
                    // Clear the file list display
                    const fileList = this.querySelector('#selectedFiles');
                    if (fileList) fileList.innerHTML = '';
                } else {
                    throw new Error(data.message || 'Submission failed');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error submitting form: ' + error.message);
            } finally {
                submitButton.disabled = false;
                submitButton.innerHTML = 'Submit Request';
            }
        });
    });
});
// Success Modal Functions
function showSuccessModal() {
    document.getElementById('success-modal').classList.remove('hidden');
    document.getElementById('success-modal').classList.add('flex');
    document.body.style.overflow = 'hidden';
}

function hideSuccessModal() {
    document.getElementById('success-modal').classList.add('hidden');
    document.getElementById('success-modal').classList.remove('flex');
    document.body.style.overflow = 'auto';
}

// Close success modal when clicking outside
document.getElementById('success-modal').addEventListener('click', function(e) {
    if (e.target === this) {
        hideSuccessModal();
    }
});
        // Close modal when clicking outside
        document.getElementById('consultation-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideConsultationForm();
            }
        });

        // Mobile menu toggle
        document.getElementById('menu-btn').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        document.querySelectorAll('input[type="file"]').forEach(input => {
    input.addEventListener('change', function() {
        const selectedFilesDiv = this.closest('div').querySelector('#selectedFiles');
        selectedFilesDiv.innerHTML = '';
        
        if (this.files.length > 0) {
            // Check if too many files are selected
            if (this.files.length > 5) {
                alert('Maximum 5 files allowed');
                this.value = ''; // Clear selection
                return;
            }
            
            Array.from(this.files).forEach(file => {
                const fileSize = (file.size / (1024 * 1024)).toFixed(2); // Convert to MB
                
                // Check file size
                if (file.size > 5 * 1024 * 1024) { // 5MB in bytes
                    alert(`File ${file.name} is too large. Maximum size is 5MB`);
                    this.value = ''; // Clear selection
                    return;
                }
                
                const fileItem = document.createElement('div');
                fileItem.className = 'flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded';
                fileItem.innerHTML = `
                    <i class="fas fa-file text-blue-500"></i>
                    <span class="flex-1">${file.name}</span>
                    <span class="text-gray-500">${fileSize} MB</span>
                `;
                selectedFilesDiv.appendChild(fileItem);
            });
        }
    });
});

document.addEventListener('DOMContentLoaded', function() {
    // Initialize Flatpickr for Date
    flatpickr("#consultation-date", {
        minDate: "today",
        dateFormat: "Y-m-d",
        disable: [
            function(date) {
                return (date.getDay() === 0); // Disable Sundays
            }
        ],
        locale: {
            firstDayOfWeek: 1 // Start week on Monday
        }
    });

    // Initialize Flatpickr for Time
    flatpickr("#consultation-time", {
        enableTime: true,
        noCalendar: true,
        dateFormat: "H:i",
        minTime: "09:00",
        maxTime: "18:00",
        minuteIncrement: 30,
        defaultHour: 9
    });
});
    </script>
</body>
</html>
